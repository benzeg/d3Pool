!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var r={};n.m=t,n.c=r,n.i=function(t){return t},n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=46)}([function(t,n,r){"use strict";n.a=function(t){return function(){return t}}},function(t,n,r){"use strict";function e(){}function i(t,n){var r=new e;if(t instanceof e)t.each(function(t,n){r.set(n,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(n(i=t[o],o,t),i)}else if(t)for(var u in t)r.set(u,t[u]);return r}r.d(n,"b",function(){return o});var o="$";e.prototype=i.prototype={constructor:e,has:function(t){return o+t in this},get:function(t){return this[o+t]},set:function(t,n){return this[o+t]=n,this},remove:function(t){var n=o+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===o&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===o&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===o&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===o&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===o&&++t;return t},empty:function(){for(var t in this)if(t[0]===o)return!1;return!0},each:function(t){for(var n in this)n[0]===o&&t(this[n],n.slice(1),this)}},n.a=i},function(t,n,r){"use strict";n.a=function(){return 1e-6*(Math.random()-.5)}},function(t,n,r){"use strict";n.a=function(t,n,r,e,i){this.node=t,this.x0=n,this.y0=r,this.x1=e,this.y1=i}},function(t,n,r){"use strict";function e(){return _||(b(i),_=m.now()+w)}function i(){_=0}function o(){this._call=this._time=this._next=null}function a(t,n,r){var e=new o;return e.restart(t,n,r),e}function u(){e(),++p;for(var t,n=l;n;)(t=_-n._time)>=0&&n._call.call(null,t),n=n._next;--p}function s(){_=(g=m.now())+w,p=v=0;try{u()}finally{p=0,h(),_=0}}function c(){var t=m.now(),n=t-g;n>d&&(w-=n,g=t)}function h(){for(var t,n,r=l,e=1/0;r;)r._call?(e>r._time&&(e=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:l=n);y=t,f(e)}function f(t){if(!p){v&&(v=clearTimeout(v));var n=t-_;n>24?(t<1/0&&(v=setTimeout(s,n)),x&&(x=clearInterval(x))):(x||(g=_,x=setInterval(c,d)),p=1,b(s))}}n.c=e,n.b=o,n.a=a;var l,y,p=0,v=0,x=0,d=1e3,g=0,_=0,w=0,m="object"==typeof performance&&performance.now?performance:Date,b="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};o.prototype=a.prototype={constructor:o,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?e():+r)+(null==n?0:+n),this._next||y===this||(y?y._next=this:l=this,y=this),this._call=t,this._time=r,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},function(t,n,r){"use strict";var e=(r(17),r(18),r(1));r.d(n,"a",function(){return e.a});r(16),r(19),r(15)},function(t,n,r){"use strict";function e(t){return t.x}function i(t){return t.y}n.b=e,n.c=i;var o=r(20),a=r(5),u=r(42),s=Math.PI*(3-Math.sqrt(5));n.a=function(t){function n(){e(),g.call("tick",h),f<l&&(d.stop(),g.call("end",h))}function e(){var n,r,e=t.length;for(f+=(p-f)*y,x.each(function(t){t(f)}),n=0;n<e;++n)r=t[n],null==r.fx?r.x+=r.vx*=v:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=v:(r.y=r.fy,r.vy=0)}function i(){for(var n,r=0,e=t.length;r<e;++r){if(n=t[r],n.index=r,isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(r),o=r*s;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function c(n){return n.initialize&&n.initialize(t),n}var h,f=1,l=.001,y=1-Math.pow(l,1/300),p=0,v=.6,x=r.i(a.a)(),d=r.i(u.a)(n),g=r.i(o.a)("tick","end");return null==t&&(t=[]),i(),h={tick:e,restart:function(){return d.restart(n),h},stop:function(){return d.stop(),h},nodes:function(n){return arguments.length?(t=n,i(),x.each(c),h):t},alpha:function(t){return arguments.length?(f=+t,h):f},alphaMin:function(t){return arguments.length?(l=+t,h):l},alphaDecay:function(t){return arguments.length?(y=+t,h):+y},alphaTarget:function(t){return arguments.length?(p=+t,h):p},velocityDecay:function(t){return arguments.length?(v=1-t,h):1-v},force:function(t,n){return arguments.length>1?(null==n?x.remove(t):x.set(t,c(n)),h):x.get(t)},find:function(n,r,e){var i,o,a,u,s,c=0,h=t.length;for(null==e?e=1/0:e*=e,c=0;c<h;++c)u=t[c],i=n-u.x,o=r-u.y,(a=i*i+o*o)<e&&(s=u,e=a);return s},on:function(t,n){return arguments.length>1?(g.on(t,n),h):g.on(t)}}}},function(t,n,r){"use strict";var e=r(34);r.d(n,"a",function(){return e.a})},function(t,n,r){"use strict";(new(r(11).PoolGame)).setUp("#container")},function(t,n,r){"use strict";var e=r(45),i=function(t,n,r){var i=this;t.getTable().on("mousedown",function(){i.mouseVec=e.fromArray(t.getMouseCoordinates()),i.powerBarHeight=n.getHeight(),i.powerUp=setInterval(function(){i.powerBarHeight<240&&++i.powerBarHeight%5==0&&n.setHeight(i.powerBarHeight)},10)}).on("mouseup",function(){var t=i.powerBarHeight/240*4500;!function(){i.cueBallVec=e.fromArray(r.getPosition());var n=i.cueBallVec.clone();n.subtract(i.mouseVec),n.normalize(),n.x*=t,n.y*=t;var o=i.cueBallVec.clone().add(n);if(o.x<0||o.x>1103.75||o.y<0||o.y>543.75){var a=(n.clone().invert(),1);o.x<0?a=(n.x-o.x)/n.x:o.x>1103.75?a=(n.x-(o.x-1103.75))/n.x:o.y<0?a=(n.y-o.y)/n.y:o.y>543.75&&(a=(n.y-(o.y-483.75))/n.y),n.x*=a,n.y*=a,console.log("forceVector",n),o=i.cueBallVec.clone().add(n)}r.translate(o)}(),i.powerBarHeight=0,n.setHeight(i.powerBarHeight),clearInterval(i.powerUp)})};t.exports={setMouseEvent:i}},function(t,n,r){"use strict";function e(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),u=function(){function t(n,r,e){o(this,t),this.cx=r,this.cy=e,this.board=n,this.radius="16.25px",this.color="#808080",this.model=null}return a(t,[{key:"addBall",value:function(){this.model=this.board.append("svg:circle").attr("cx",this.cx).attr("cy",this.cy).attr("r",this.radius).style("fill",this.color)}},{key:"translate",value:function(t,n){this.model.transition().attr("cx",t.x).attr("cy",t.y).on("end",n)}},{key:"getPosition",value:function(){return[this.model._groups[0][0].cx.animVal.value,this.model._groups[0][0].cy.animVal.value]}},{key:"getModel",value:function(){return this.model}}]),t}(),s=function(t){function n(t){o(this,n);var r=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.color="#ffffff",r.cx="280px",r.cy="280px",r}return i(n,t),n}(u),c=function(t){function n(t,r){o(this,n);var i=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r.cx,r.cy));return console.log("hello"),i.color=r.color,i}return i(n,t),n}(u),h=function(t){function n(t,r,i){o(this,n);var a=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,i,t));return a.color="#000000",a}return i(n,t),n}(u);t.exports={CueBall:s,GameBall:c,BlackBall:h}},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),o=r(10),a=r(13),u=r(14),s=r(9),c=(r(12),function(){function t(){e(this,t),this.board=null,this.gameBallOptions=[{cx:840,cy:280,color:"#ffcc00"},{cx:868.14,cy:263.75,color:"#c61313"},{cx:868.14,cy:296.25,color:"#0c00ff"},{cx:896.28,cy:247.5,color:"#ff7a08"},{cx:896.28,cy:280,color:"#6308a9"},{cx:896.28,cy:312.5,color:"#035b3b"}],this.gameBalls=[]}return i(t,[{key:"setUp",value:function(t){this.board=t,this.table=new a.Table(this.board),this.table.setTable(),this.powerGrid=new u.PowerGrid(this.table.model),this.powerGrid.setUp(),this.cueBall=new o.CueBall(this.table.model),this.cueBall.addBall(),this.gameBalls.push(this.cueBall.getModel());for(var n=0;n<this.gameBallOptions.length;n++){var r=new o.GameBall(this.table.model,this.gameBallOptions[n]);r.addBall(),this.gameBalls.push(r.getModel())}s.setMouseEvent(this.table,this.powerGrid,this.cueBall)}}]),t}());t.exports={PoolGame:c}},function(t,n,r){"use strict";var e=r(22),i=function(t){var n=e.forceSimulation(t);console.log(n)};t.exports={initSimulation:i}},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),o=function(){function t(n){e(this,t),this.container=n,this.xLeft=0,this.xRight=1120,this.yTop=0,this.yBottom=560,this.color="#648fcb",this.model=null}return i(t,[{key:"setTable",value:function(){this.model=d3.select(container).append("svg:svg").attr("height",this.yBottom).attr("width",this.xRight).style("background-color",this.color)}},{key:"getMouseCoordinates",value:function(){return d3.mouse(this.model._groups[0][0])}},{key:"getTable",value:function(){return this.model}}]),t}();t.exports={Table:o}},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),o=function(){function t(n){e(this,t),this.board=n,this.container=null,this.powerGrid=null}return i(t,[{key:"setUp",value:function(){this.container=this.board.append("svg:rect").attr("height",240).attr("width",20).attr("x",1080).attr("y",40).attr("fill","#ffffff"),this.powerGrid=this.board.append("svg:rect").attr("height",0).attr("width",20).attr("x",1080).attr("y",40).attr("fill","#8c5555")}},{key:"getHeight",value:function(){return this.powerGrid.attr("height")}},{key:"setHeight",value:function(t){this.powerGrid.attr("height",t)}}]),t}();t.exports={PowerGrid:o}},function(t,n,r){"use strict"},function(t,n,r){"use strict"},function(t,n,r){"use strict";r(1)},function(t,n,r){"use strict";function e(){}function i(t,n){var r=new e;if(t instanceof e)t.each(function(t){r.add(t)});else if(t){var i=-1,o=t.length;if(null==n)for(;++i<o;)r.add(t[i]);else for(;++i<o;)r.add(n(t[i],i,t))}return r}var o=r(1),a=o.a.prototype;e.prototype=i.prototype={constructor:e,has:a.has,add:function(t){return t+="",this[o.b+t]=t,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},function(t,n,r){"use strict"},function(t,n,r){"use strict";var e=r(21);r.d(n,"a",function(){return e.a})},function(t,n,r){"use strict";function e(){for(var t,n=0,r=arguments.length,e={};n<r;++n){if(!(t=arguments[n]+"")||t in e)throw new Error("illegal type: "+t);e[t]=[]}return new i(e)}function i(t){this._=t}function o(t,n){return t.trim().split(/^|\s+/).map(function(t){var r="",e=t.indexOf(".");if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}function a(t,n){for(var r,e=0,i=t.length;e<i;++e)if((r=t[e]).name===n)return r.value}function u(t,n,r){for(var e=0,i=t.length;e<i;++e)if(t[e].name===n){t[e]=s,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=r&&t.push({name:n,value:r}),t}var s={value:function(){}};i.prototype=e.prototype={constructor:i,on:function(t,n){var r,e=this._,i=o(t+"",e),s=-1,c=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++s<c;)if(r=(t=i[s]).type)e[r]=u(e[r],t.name,n);else if(null==n)for(r in e)e[r]=u(e[r],t.name,null);return this}for(;++s<c;)if((r=(t=i[s]).type)&&(r=a(e[r],t.name)))return r}},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new i(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,e,i=new Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(e=this._[t],o=0,r=e.length;o<r;++o)e[o].value.apply(n,i)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var e=this._[t],i=0,o=e.length;i<o;++i)e[i].value.apply(n,r)}},n.a=e},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(23);r.d(n,"forceCenter",function(){return e.a});var i=r(24);r.d(n,"forceCollide",function(){return i.a});var o=r(25);r.d(n,"forceLink",function(){return o.a});var a=r(26);r.d(n,"forceManyBody",function(){return a.a});var u=r(6);r.d(n,"forceSimulation",function(){return u.a});var s=r(27);r.d(n,"forceX",function(){return s.a});var c=r(28);r.d(n,"forceY",function(){return c.a})},function(t,n,r){"use strict";n.a=function(t,n){function r(){var r,i,o=e.length,a=0,u=0;for(r=0;r<o;++r)i=e[r],a+=i.x,u+=i.y;for(a=a/o-t,u=u/o-n,r=0;r<o;++r)i=e[r],i.x-=a,i.y-=u}var e;return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r}},function(t,n,r){"use strict";function e(t){return t.x+t.vx}function i(t){return t.y+t.vy}var o=r(0),a=r(2),u=r(7);n.a=function(t){function n(){function t(t,n,e,i,o){var u=t.data,s=t.r,h=x+s;{if(!u)return n>p+h||i<p-h||e>v+h||o<v-h;if(u.index>c.index){var f=p-u.x-u.vx,y=v-u.y-u.vy,g=f*f+y*y;g<h*h&&(0===f&&(f=r.i(a.a)(),g+=f*f),0===y&&(y=r.i(a.a)(),g+=y*y),g=(h-(g=Math.sqrt(g)))/g*l,c.vx+=(f*=g)*(h=(s*=s)/(d+s)),c.vy+=(y*=g)*h,u.vx-=f*(h=1-h),u.vy-=y*h)}}}for(var n,o,c,p,v,x,d,g=h.length,_=0;_<y;++_)for(o=r.i(u.a)(h,e,i).visitAfter(s),n=0;n<g;++n)c=h[n],x=f[c.index],d=x*x,p=c.x+c.vx,v=c.y+c.vy,o.visit(t)}function s(t){if(t.data)return t.r=f[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function c(){if(h){var n,r,e=h.length;for(f=new Array(e),n=0;n<e;++n)r=h[n],f[r.index]=+t(r,n,h)}}var h,f,l=1,y=1;return"function"!=typeof t&&(t=r.i(o.a)(null==t?1:+t)),n.initialize=function(t){h=t,c()},n.iterations=function(t){return arguments.length?(y=+t,n):y},n.strength=function(t){return arguments.length?(l=+t,n):l},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:r.i(o.a)(+e),c(),n):t},n}},function(t,n,r){"use strict";function e(t){return t.index}function i(t,n){var r=t.get(n);if(!r)throw new Error("missing: "+n);return r}var o=r(0),a=r(2),u=r(5);n.a=function(t){function n(t){return 1/Math.min(v[t.source.index],v[t.target.index])}function s(n){for(var e=0,i=t.length;e<w;++e)for(var o,u,s,c,h,f,p,v=0;v<i;++v)o=t[v],u=o.source,s=o.target,c=s.x+s.vx-u.x-u.vx||r.i(a.a)(),h=s.y+s.vy-u.y-u.vy||r.i(a.a)(),f=Math.sqrt(c*c+h*h),f=(f-y[v])/f*n*l[v],c*=f,h*=f,s.vx-=c*(p=x[v]),s.vy-=h*p,u.vx+=c*(p=1-p),u.vy+=h*p}function c(){if(p){var n,e,o=p.length,a=t.length,s=r.i(u.a)(p,d);for(n=0,v=new Array(o);n<a;++n)e=t[n],e.index=n,"object"!=typeof e.source&&(e.source=i(s,e.source)),"object"!=typeof e.target&&(e.target=i(s,e.target)),v[e.source.index]=(v[e.source.index]||0)+1,v[e.target.index]=(v[e.target.index]||0)+1;for(n=0,x=new Array(a);n<a;++n)e=t[n],x[n]=v[e.source.index]/(v[e.source.index]+v[e.target.index]);l=new Array(a),h(),y=new Array(a),f()}}function h(){if(p)for(var n=0,r=t.length;n<r;++n)l[n]=+g(t[n],n,t)}function f(){if(p)for(var n=0,r=t.length;n<r;++n)y[n]=+_(t[n],n,t)}var l,y,p,v,x,d=e,g=n,_=r.i(o.a)(30),w=1;return null==t&&(t=[]),s.initialize=function(t){p=t,c()},s.links=function(n){return arguments.length?(t=n,c(),s):t},s.id=function(t){return arguments.length?(d=t,s):d},s.iterations=function(t){return arguments.length?(w=+t,s):w},s.strength=function(t){return arguments.length?(g="function"==typeof t?t:r.i(o.a)(+t),h(),s):g},s.distance=function(t){return arguments.length?(_="function"==typeof t?t:r.i(o.a)(+t),f(),s):_},s}},function(t,n,r){"use strict";var e=r(0),i=r(2),o=r(7),a=r(6);n.a=function(){function t(t){var n,e=c.length,i=r.i(o.a)(c,a.b,a.c).visitAfter(u);for(f=t,n=0;n<e;++n)h=c[n],i.visit(s)}function n(){if(c){var t,n,r=c.length;for(l=new Array(r),t=0;t<r;++t)n=c[t],l[n.index]=+y(n,t,c)}}function u(t){var n,r,e,i,o,a=0;if(t.length){for(e=i=o=0;o<4;++o)(n=t[o])&&(r=n.value)&&(a+=r,e+=r*n.x,i+=r*n.y);t.x=e/a,t.y=i/a}else{n=t,n.x=n.data.x,n.y=n.data.y;do{a+=l[n.data.index]}while(n=n.next)}t.value=a}function s(t,n,e,o){if(!t.value)return!0;var a=t.x-h.x,u=t.y-h.y,s=o-n,c=a*a+u*u;if(s*s/x<c)return c<v&&(0===a&&(a=r.i(i.a)(),c+=a*a),0===u&&(u=r.i(i.a)(),c+=u*u),c<p&&(c=Math.sqrt(p*c)),h.vx+=a*t.value*f/c,h.vy+=u*t.value*f/c),!0;if(!(t.length||c>=v)){(t.data!==h||t.next)&&(0===a&&(a=r.i(i.a)(),c+=a*a),0===u&&(u=r.i(i.a)(),c+=u*u),c<p&&(c=Math.sqrt(p*c)));do{t.data!==h&&(s=l[t.data.index]*f/c,h.vx+=a*s,h.vy+=u*s)}while(t=t.next)}}var c,h,f,l,y=r.i(e.a)(-30),p=1,v=1/0,x=.81;return t.initialize=function(t){c=t,n()},t.strength=function(i){return arguments.length?(y="function"==typeof i?i:r.i(e.a)(+i),n(),t):y},t.distanceMin=function(n){return arguments.length?(p=n*n,t):Math.sqrt(p)},t.distanceMax=function(n){return arguments.length?(v=n*n,t):Math.sqrt(v)},t.theta=function(n){return arguments.length?(x=n*n,t):Math.sqrt(x)},t}},function(t,n,r){"use strict";var e=r(0);n.a=function(t){function n(t){for(var n,r=0,e=o.length;r<e;++r)n=o[r],n.vx+=(u[r]-n.x)*a[r]*t}function i(){if(o){var n,r=o.length;for(a=new Array(r),u=new Array(r),n=0;n<r;++n)a[n]=isNaN(u[n]=+t(o[n],n,o))?0:+s(o[n],n,o)}}var o,a,u,s=r.i(e.a)(.1);return"function"!=typeof t&&(t=r.i(e.a)(null==t?0:+t)),n.initialize=function(t){o=t,i()},n.strength=function(t){return arguments.length?(s="function"==typeof t?t:r.i(e.a)(+t),i(),n):s},n.x=function(o){return arguments.length?(t="function"==typeof o?o:r.i(e.a)(+o),i(),n):t},n}},function(t,n,r){"use strict";var e=r(0);n.a=function(t){function n(t){for(var n,r=0,e=o.length;r<e;++r)n=o[r],n.vy+=(u[r]-n.y)*a[r]*t}function i(){if(o){var n,r=o.length;for(a=new Array(r),u=new Array(r),n=0;n<r;++n)a[n]=isNaN(u[n]=+t(o[n],n,o))?0:+s(o[n],n,o)}}var o,a,u,s=r.i(e.a)(.1);return"function"!=typeof t&&(t=r.i(e.a)(null==t?0:+t)),n.initialize=function(t){o=t,i()},n.strength=function(t){return arguments.length?(s="function"==typeof t?t:r.i(e.a)(+t),i(),n):s},n.y=function(o){return arguments.length?(t="function"==typeof o?o:r.i(e.a)(+o),i(),n):t},n}},function(t,n,r){"use strict";function e(t,n,r,e){if(isNaN(n)||isNaN(r))return t;var i,o,a,u,s,c,h,f,l,y=t._root,p={data:e},v=t._x0,x=t._y0,d=t._x1,g=t._y1;if(!y)return t._root=p,t;for(;y.length;)if((c=n>=(o=(v+d)/2))?v=o:d=o,(h=r>=(a=(x+g)/2))?x=a:g=a,i=y,!(y=y[f=h<<1|c]))return i[f]=p,t;if(u=+t._x.call(null,y.data),s=+t._y.call(null,y.data),n===u&&r===s)return p.next=y,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=n>=(o=(v+d)/2))?v=o:d=o,(h=r>=(a=(x+g)/2))?x=a:g=a}while((f=h<<1|c)==(l=(s>=a)<<1|u>=o));return i[l]=y,i[f]=p,t}function i(t){var n,r,i,o,a=t.length,u=new Array(a),s=new Array(a),c=1/0,h=1/0,f=-1/0,l=-1/0;for(r=0;r<a;++r)isNaN(i=+this._x.call(null,n=t[r]))||isNaN(o=+this._y.call(null,n))||(u[r]=i,s[r]=o,i<c&&(c=i),i>f&&(f=i),o<h&&(h=o),o>l&&(l=o));for(f<c&&(c=this._x0,f=this._x1),l<h&&(h=this._y0,l=this._y1),this.cover(c,h).cover(f,l),r=0;r<a;++r)e(this,u[r],s[r],t[r]);return this}n.b=i,n.a=function(t){var n=+this._x.call(null,t),r=+this._y.call(null,t);return e(this.cover(n,r),n,r,t)}},function(t,n,r){"use strict";n.a=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,e=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,o=(e=Math.floor(n))+1;else{if(!(r>t||t>i||e>n||n>o))return this;var a,u,s=i-r,c=this._root;switch(u=(n<(e+o)/2)<<1|t<(r+i)/2){case 0:do{a=new Array(4),a[u]=c,c=a}while(s*=2,i=r+s,o=e+s,t>i||n>o);break;case 1:do{a=new Array(4),a[u]=c,c=a}while(s*=2,r=i-s,o=e+s,r>t||n>o);break;case 2:do{a=new Array(4),a[u]=c,c=a}while(s*=2,i=r+s,e=o-s,t>i||e>n);break;case 3:do{a=new Array(4),a[u]=c,c=a}while(s*=2,r=i-s,e=o-s,r>t||e>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=e,this._x1=i,this._y1=o,this}},function(t,n,r){"use strict";n.a=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t}},function(t,n,r){"use strict";n.a=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},function(t,n,r){"use strict";var e=r(3);n.a=function(t,n,r){var i,o,a,u,s,c,h,f=this._x0,l=this._y0,y=this._x1,p=this._y1,v=[],x=this._root;for(x&&v.push(new e.a(x,f,l,y,p)),null==r?r=1/0:(f=t-r,l=n-r,y=t+r,p=n+r,r*=r);c=v.pop();)if(!(!(x=c.node)||(o=c.x0)>y||(a=c.y0)>p||(u=c.x1)<f||(s=c.y1)<l))if(x.length){var d=(o+u)/2,g=(a+s)/2;v.push(new e.a(x[3],d,g,u,s),new e.a(x[2],o,g,d,s),new e.a(x[1],d,a,u,g),new e.a(x[0],o,a,d,g)),(h=(n>=g)<<1|t>=d)&&(c=v[v.length-1],v[v.length-1]=v[v.length-1-h],v[v.length-1-h]=c)}else{var _=t-+this._x.call(null,x.data),w=n-+this._y.call(null,x.data),m=_*_+w*w;if(m<r){var b=Math.sqrt(r=m);f=t-b,l=n-b,y=t+b,p=n+b,i=x.data}}return i}},function(t,n,r){"use strict";function e(t,n,r){var e=new i(null==n?x.a:n,null==r?d.a:r,NaN,NaN,NaN,NaN);return null==t?e:e.addAll(t)}function i(t,n,r,e,i,o){this._x=t,this._y=n,this._x0=r,this._y0=e,this._x1=i,this._y1=o,this._root=void 0}function o(t){for(var n={data:t.data},r=n;t=t.next;)r=r.next={data:t.data};return n}n.a=e;var a=r(29),u=r(30),s=r(31),c=r(32),h=r(33),f=r(35),l=r(36),y=r(37),p=r(38),v=r(39),x=r(40),d=r(41),g=e.prototype=i.prototype;g.copy=function(){var t,n,r=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return r;if(!e.length)return r._root=o(e),r;for(t=[{source:e,target:r._root=new Array(4)}];e=t.pop();)for(var a=0;a<4;++a)(n=e.source[a])&&(n.length?t.push({source:n,target:e.target[a]=new Array(4)}):e.target[a]=o(n));return r},g.add=a.a,g.addAll=a.b,g.cover=u.a,g.data=s.a,g.extent=c.a,g.find=h.a,g.remove=f.a,g.removeAll=f.b,g.root=l.a,g.size=y.a,g.visit=p.a,g.visitAfter=v.a,g.x=x.b,g.y=d.b},function(t,n,r){"use strict";function e(t){for(var n=0,r=t.length;n<r;++n)this.remove(t[n]);return this}n.b=e,n.a=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,r,e,i,o,a,u,s,c,h,f,l,y=this._root,p=this._x0,v=this._y0,x=this._x1,d=this._y1;if(!y)return this;if(y.length)for(;;){if((c=o>=(u=(p+x)/2))?p=u:x=u,(h=a>=(s=(v+d)/2))?v=s:d=s,n=y,!(y=y[f=h<<1|c]))return this;if(!y.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(r=n,l=f)}for(;y.data!==t;)if(e=y,!(y=y.next))return this;return(i=y.next)&&delete y.next,e?(i?e.next=i:delete e.next,this):n?(i?n[f]=i:delete n[f],(y=n[0]||n[1]||n[2]||n[3])&&y===(n[3]||n[2]||n[1]||n[0])&&!y.length&&(r?r[l]=y:this._root=y),this):(this._root=i,this)}},function(t,n,r){"use strict";n.a=function(){return this._root}},function(t,n,r){"use strict";n.a=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t}},function(t,n,r){"use strict";var e=r(3);n.a=function(t){var n,r,i,o,a,u,s=[],c=this._root;for(c&&s.push(new e.a(c,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(c=n.node,i=n.x0,o=n.y0,a=n.x1,u=n.y1)&&c.length){var h=(i+a)/2,f=(o+u)/2;(r=c[3])&&s.push(new e.a(r,h,f,a,u)),(r=c[2])&&s.push(new e.a(r,i,f,h,u)),(r=c[1])&&s.push(new e.a(r,h,o,a,f)),(r=c[0])&&s.push(new e.a(r,i,o,h,f))}return this}},function(t,n,r){"use strict";var e=r(3);n.a=function(t){var n,r=[],i=[];for(this._root&&r.push(new e.a(this._root,this._x0,this._y0,this._x1,this._y1));n=r.pop();){var o=n.node;if(o.length){var a,u=n.x0,s=n.y0,c=n.x1,h=n.y1,f=(u+c)/2,l=(s+h)/2;(a=o[0])&&r.push(new e.a(a,u,s,f,l)),(a=o[1])&&r.push(new e.a(a,f,s,c,l)),(a=o[2])&&r.push(new e.a(a,u,l,f,h)),(a=o[3])&&r.push(new e.a(a,f,l,c,h))}i.push(n)}for(;n=i.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}},function(t,n,r){"use strict";function e(t){return t[0]}n.a=e,n.b=function(t){return arguments.length?(this._x=t,this):this._x}},function(t,n,r){"use strict";function e(t){return t[1]}n.a=e,n.b=function(t){return arguments.length?(this._y=t,this):this._y}},function(t,n,r){"use strict";var e=r(4);r.d(n,"a",function(){return e.a});r(44),r(43)},function(t,n,r){"use strict";r(4)},function(t,n,r){"use strict";r(4)},function(t,n){function r(t,n){if(!(this instanceof r))return new r(t,n);this.x=t||0,this.y=n||0}function e(t,n){return Math.floor(Math.random()*(n-t+1)+t)}function i(t){return t*a}function o(t){return t/a}t.exports=r,r.fromArray=function(t){return new r(t[0]||0,t[1]||0)},r.fromObject=function(t){return new r(t.x||0,t.y||0)},r.prototype.addX=function(t){return this.x+=t.x,this},r.prototype.addY=function(t){return this.y+=t.y,this},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},r.prototype.addScalarX=function(t){return this.x+=t,this},r.prototype.addScalarY=function(t){return this.y+=t,this},r.prototype.subtractX=function(t){return this.x-=t.x,this},r.prototype.subtractY=function(t){return this.y-=t.y,this},r.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},r.prototype.subtractScalarX=function(t){return this.x-=t,this},r.prototype.subtractScalarY=function(t){return this.y-=t,this},r.prototype.divideX=function(t){return this.x/=t.x,this},r.prototype.divideY=function(t){return this.y/=t.y,this},r.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},r.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},r.prototype.divideScalarX=function(t){return 0!==t?this.x/=t:this.x=0,this},r.prototype.divideScalarY=function(t){return 0!==t?this.y/=t:this.y=0,this},r.prototype.invertX=function(){return this.x*=-1,this},r.prototype.invertY=function(){return this.y*=-1,this},r.prototype.invert=function(){return this.invertX(),this.invertY(),this},r.prototype.multiplyX=function(t){return this.x*=t.x,this},r.prototype.multiplyY=function(t){return this.y*=t.y,this},r.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},r.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},r.prototype.multiplyScalarX=function(t){return this.x*=t,this},r.prototype.multiplyScalarY=function(t){return this.y*=t,this},r.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divide(r(t,t)),this},r.prototype.norm=r.prototype.normalize,r.prototype.limit=function(t,n){return Math.abs(this.x)>t&&(this.x*=n),Math.abs(this.y)>t&&(this.y*=n),this},r.prototype.randomize=function(t,n){return this.randomizeX(t,n),this.randomizeY(t,n),this},r.prototype.randomizeX=function(t,n){var r=Math.min(t.x,n.x),i=Math.max(t.x,n.x);return this.x=e(r,i),this},r.prototype.randomizeY=function(t,n){var r=Math.min(t.y,n.y),i=Math.max(t.y,n.y);return this.y=e(r,i),this},r.prototype.randomizeAny=function(t,n){return Math.round(Math.random())?this.randomizeX(t,n):this.randomizeY(t,n),this},r.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},r.prototype.toFixed=function(t){return void 0===t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},r.prototype.mixX=function(t,n){return void 0===n&&(n=.5),this.x=(1-n)*this.x+n*t.x,this},r.prototype.mixY=function(t,n){return void 0===n&&(n=.5),this.y=(1-n)*this.y+n*t.y,this},r.prototype.mix=function(t,n){return this.mixX(t,n),this.mixY(t,n),this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyX=function(t){return this.x=t.x,this},r.prototype.copyY=function(t){return this.y=t.y,this},r.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},r.prototype.zero=function(){return this.x=this.y=0,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.cross=function(t){return this.x*t.y-this.y*t.x},r.prototype.projectOnto=function(t){var n=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=n*t.x,this.y=n*t.y,this},r.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},r.prototype.horizontalAngleDeg=function(){return i(this.horizontalAngle())},r.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},r.prototype.verticalAngleDeg=function(){return i(this.verticalAngle())},r.prototype.angle=r.prototype.horizontalAngle,r.prototype.angleDeg=r.prototype.horizontalAngleDeg,r.prototype.direction=r.prototype.horizontalAngle,r.prototype.rotate=function(t){var n=this.x*Math.cos(t)-this.y*Math.sin(t),r=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=n,this.y=r,this},r.prototype.rotateDeg=function(t){return t=o(t),this.rotate(t)},r.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},r.prototype.rotateToDeg=function(t){return t=o(t),this.rotateTo(t)},r.prototype.rotateBy=function(t){var n=this.angle()+t;return this.rotate(n)},r.prototype.rotateByDeg=function(t){return t=o(t),this.rotateBy(t)},r.prototype.distanceX=function(t){return this.x-t.x},r.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},r.prototype.distanceY=function(t){return this.y-t.y},r.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},r.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},r.prototype.distanceSq=function(t){var n=this.distanceX(t),r=this.distanceY(t);return n*n+r*r},r.prototype.length=function(){return Math.sqrt(this.lengthSq())},r.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},r.prototype.magnitude=r.prototype.length,r.prototype.isZero=function(){return 0===this.x&&0===this.y},r.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},r.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},r.prototype.toArray=function(){return[this.x,this.y]},r.prototype.toObject=function(){return{x:this.x,y:this.y}};var a=180/Math.PI},function(t,n,r){t.exports=r(8)}]);